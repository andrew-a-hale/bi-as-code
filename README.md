# Duck Viz

This is a small project to test out some BI-as-Code data visualation tools and
data validation tools.

## Data Visualation tools

- Rill ! Todo

## Data Validation tools

- Soda ! Todo

## Data

The data is generated by the generator/main.go file and is stored in DuckDB. If
you wish to run the file yourself you can use `cd gpenerator && go run main.go`
or `cd generator && go build && ./generator`. This will overwrite your current
`data.db` and `mart_energy.parquet` files

DuckDB is a lightweight OLAP DB like sqlite, but for analytics.

The data itself is 1 year's worth of simulated energy related data by minute.

### Data Model

```mermaid
---
Title: Fact Energy
---
erDiagram
    fact_energy {
        int id PK
        int time_id FK
        int date_id FK
        int location_id FK
        float cons "grid power consumption"
        float cost "power cost"
    }
    fact_energy }|--|| dim_date: "has"
    dim_date {
        int id PK
        int weather_id FK
        string label "yyyy-mm-dd format"
    }
    fact_energy }|--|| dim_time: "has"
    dim_time {
        int id PK
        string label "24h format"
    }
    fact_energy }|--|| dim_location: "has"
    dim_location {
        int id PK
        string name
        int population
        bool is_cbd "indicator for central business district"
        float solar_factor "[0,1]"

    }
    dim_date }|--|| dim_weather: "has"
    dim_weather {
        int id PK
        string label "sunny, cloudy, rainy, windy"
        float solar_factor "[0,1]"
        float cons_factor "[0,1]"

    }
```
